{% extends 'base.html' %}

{%  block content %}

<div style="display: inline">
    <form method="post" style="display: inline">
        {% csrf_token %}
        <p style="display: inline"><label>first name: </label><input type="text" name="first_name"></p>
        <p style="display: inline"><label>last name: </label><input type="text" name="last_name"></p>
        <p style="display: inline"><label>
            role:
            <select name="role">
                <option value="">---------</option>
                <option value="admin">Admin</option>
                <option value="teacher">Teacher</option>
                <option value="student">Student</option>
        </select>
        </label></p>
        <p style="display: inline"><input type="submit" value="filter"></p>
    </form>
</div>
<div>
    <table>
        <thead>
        <td>first name</td>
        <td>last name</td>
        <td>role</td>
        {% if request.user.role|lower == "admin" %}
            <td></td>
            <td></td>
        {% endif %}
        </thead>
        {% for u in users %}
            <tr>
                <td>{{ u.first_name }}</td>
                <td>{{ u.last_name }}</td>
                <td>{{ u.role }}</td>
                {% if request.user.role|lower == "admin" %}
                <td><a href="{% url 'edit_user' u.id %}">edit</a></td>
                <td><a href="{% url 'delete_user' u.id %}">delete</a></td>
                {% endif %}
            </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}